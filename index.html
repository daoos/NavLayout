<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="description" content="pure javascript based powerful window, grid, dock engine which enables you to go beyond fixed layouts">
    <meta name="keywords" content="HTML5, JavaScript, Layout Manager, webapp, dock, dockable, grid, multi window, layout">
    <meta name="author" content="Navneet Lal">
    <!-- <meta name="viewport" content="width=device-width"> -->

    <title>NavLayout - Javascript Dockable, Grid Library</title>


    <link href="src/css/NavLayout.css" rel="stylesheet">
    <!--[if lt IE 8]>
    <link href="themes/ie.css" rel="stylesheet">
    <![endif]-->

    <style>
        body {
            margin: 15px;
            margin-top: 0px;
            padding: 0;
            background-color: #f5f5f54f; 
        }

        .nav_container {
            background: #505050;
            background: -webkit-gradient(linear, left top, left bottom, from(#505050), to(#383838));
            background: -webkit-linear-gradient(top, #505050, #383838);
            background: linear-gradient(to bottom, #505050, #383838);            
        }

    </style>

</head>

<body>

    <div id="_container" style="height:100%;width: 100%;overflow: hidden;">
        <div style="position:relative;height:24px;width:100%;overflow:hidden;margin-top:4px;">
            <div style="position:relative;height:100%;overflow:hidden;float:left;font-size:small; ">
                <b>NavLayout</b> - An Open Source Tabbed & Dockable Window Layout Manger
            </div>
            <div style="position:relative;height:100%;overflow:hidden;float:right;">
                <a class="github-button" href="https://github.com/navrosh/NavLayout" data-icon="octicon-star"
                    data-show-count="true" aria-label="Star navrosh/NavLayout on GitHub">Star</a>
            </div>
        </div>
        <div class="nav_container" id="main_container" style="position: relative; height:100%;width:100%;overflow: hidden;">

        </div>
    </div>


    <script src="src/js/NavLayout.min.js"></script>

    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <script language="javascript" type="text/javascript">

        var nl = null, stack = null;;
        window.onresize = function (event) {
            var hgt = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;
            var wgt = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;
            document.getElementById('_container').style.height = ((hgt) - 15) + 'px';
            document.getElementById('_container').style.width = ((wgt) - 30) + 'px';
            if (nl) nl.update();
        }
        window.onresize();

        var config = {
            spliter: {
                areaSize: '9px',
                barSize: '8px'
            },
            tabs: {
                dragLockTime: 150,
                spacing: '1px'
            },
            data: [
                {
                    name: '0',
                    connect: null,
                    dock: 'bottom',    //top, bottom, left, right , headerLeft, headerRight 
                    title: '0',
                    maximize: 'parent',
                    popout: 'parent',
                    close: true
                },
                {
                    name: '1',
                    connect: null,
                    dock: 'bottom',
                    title: '1'
                },
                {
                    name: '2',
                    connect: null,
                    dock: 'bottom',
                    title: '2'
                },
                {
                    name: '3',
                    connect: '1',
                    dock: 'left',
                    title: '3'
                },
                {
                    name: '4',
                    connect: '1',
                    dock: 'left',
                    title: '4',
                    maximize: 'parent',
                    popout: 'parent',
                    close: true
                },
                {
                    name: '5',
                    connect: '1',
                    dock: 'left',
                    title: '5'
                },
                {
                    name: '6',
                    connect: '5',
                    dock: 'top',
                    title: '6'
                },
                {
                    name: '7',
                    connect: '6',
                    dock: 'top',
                    title: '7'
                },
                {
                    name: '8',
                    connect: '1',
                    dock: 'top',
                    title: '8'
                },
                {
                    name: '9',
                    connect: '0',
                    dock: 'bottom',
                    title: '9'
                },
                {
                    name: '10',
                    connect: '9',
                    dock: 'left',
                    title: '10',
                    maximize: false,
                    close: false,
                    dockable: true
                },
                {
                    name: '11',
                    connect: '9',
                    dock: 'top',
                    title: '11'
                },
                {
                    name: '12',
                    connect: '11',
                    dock: 'left',
                    title: '12'
                },
                {
                    name: '13',
                    connect: '3',
                    dock: 'bottom',
                    title: '13'
                },
                {
                    name: '14',
                    connect: '10',
                    dock: 'right',
                    title: '14'
                },
                {
                    name: '15',
                    connect: '14',
                    dock: 'headerLeft',
                    title: '15'
                },
                {
                    name: '16',
                    connect: '14',
                    dock: 'headerRight',
                    title: '16'
                },
                {
                    name: '17',
                    connect: '14',
                    dock: 'headerRight',
                    title: '17'
                },
                {
                    name: '18',
                    connect: '14',
                    dock: 'headerRight',
                    title: '18'
                },
                {
                    name: '19',
                    connect: '14',
                    dock: 'headerRight',
                    title: '19'
                },
                {
                    name: '20',
                    connect: 14,
                    dock: 'headerRight',
                    title: '20'
                },
                {
                    name: '21',
                    connect: '14',
                    dock: 'headerRight',
                    title: '21'
                },
                {
                    name: '22',
                    connect: '14',
                    dock: 'headerRight',
                    title: '22'
                },
                {
                    name: '23',
                    connect: '14',
                    dock: 'headerRight',
                    title: '23'
                },
                {
                    name: '24',
                    connect: '14',
                    dock: 'headerRight',
                    title: '24'
                },
                {
                    name: '25',
                    connect: '14',
                    dock: 'headerRight',
                    title: '25'
                },
                {
                    name: '26',
                    connect: '14',
                    dock: 'headerRight',
                    title: '26'
                },
                {
                    name: '27',
                    connect: '14',
                    dock: 'headerRight',
                    title: '27',
                    maximize: 'parent'
                },
                {
                    name: '28',
                    connect: '14',
                    dock: 'headerRight',
                    title: '28'
                },
                {
                    name: '29',
                    connect: '0',
                    dock: 'left',
                    title: '29'
                },
                {
                    name: '30',
                    connect: '0',
                    dock: 'left',
                    title: '30'
                },
                {
                    name: '31',
                    connect: '29',
                    dock: 'bottom',
                    title: '31'
                }
            ]
        };


        NavLayout.prototype._nl_replay = function (e) {
            var _at = [], cidx = 0, eidx = 0;

            // _at.push({ s: "27", t: "24", d: "CR" });
            // _at.push({ s: "27", t: "-", d: "CR" });
            // eidx = _at.length;

            _aCBK();
            function _aCBK() {
                setTimeout(function () {
                    if (cidx < eidx) {
                        console.log(cidx + ' => ' + _at[cidx].s + ', ' + _at[cidx].t + ', ' + _at[cidx].d);
                        var s = _p.getTab(_at[cidx].s), t = _p.getTab(_at[cidx].t);
                        _p.detach(s); _p.attach(t, s, _at[cidx].d);
                        cidx += 1; _aCBK();
                    }
                }, 100);
            }
        }

        nl = new NavLayout({ Config: config, ContainerObject: document.getElementById("main_container") });


        nl.on('tabCreated', function (o) {

            o._e.item.style.background = "rgb(" + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + "," + Math.floor(Math.random() * 256) + ")";
            //o._e.item.style.background = "#" + ("000000" + Math.floor(Math.random() * 0xFFFFFF).toString(16)).substr(-6);

            //console.log('tabCreated Event : ' + o);
            if (o.name == '3') {
                var not = o._e.hd.tab.notif.add('end', '<div class="_notif_money" title="money.." ></div>', function (ev, nl, tab, obj) { alert(tab.name + ' @ Custom Event'); });
                o._e.hd.tab.notif.o.style.border = 'none';
                o._e.hd.tab.ctl.add('end', '<li class="_nl_close" title="close" ></li>', function (ev, nl, tab, obj) {
                    nl.emit('close', ev, tab);
                    if (ev.defaultPrevented == false) {
                        nl.deleteTab(tab);
                    }
                });
            }
            else if (o.name == '25') {
                o._e.hd.tab.ctl.add('end', '<li class="_nl_close" title="close" ></li>', function (ev, nl, tab, obj) {
                    nl.emit('close', ev, tab);
                    if (ev.defaultPrevented == false) {
                        nl.deleteTab(tab);
                    }
                });
            }
            else if (o.name == '11') {
                var not = o._e.hd.tab.notif.add('end', '<div class="_notif_counter" title="counter" ></div>', function (ev, nl, tab, obj) { alert(tab.name + ' @ Count : ' + obj.innerHTML); });
                not.innerHTML = 10; setInterval(function () { var cnt = parseInt(not.innerHTML) + 1; if (cnt > 99) cnt = 10; not.innerHTML = cnt; }, 500);
            }
            else if (o.name == '8') {
                o._e.hd.tab.notif.o.style.border = 'none';
                var not = o._e.hd.tab.notif.add('end', '<div class="_notif_health" title="health.." ></div>', function (ev, nl, tab, obj) { alert(tab.name); });
                var opa = 0.0, _m = 1; setInterval(function () { opa = opa + 0.05 * _m; not.style.opacity = opa; not.style.filter = 'alpha(opacity=' + opa * 100 + ")"; not.style.MozOpacity = opa; not.style.KhtmlOpacity = opa; if (opa >= 1) _m = -1; else if (opa <= 0) _m = 1; }, 60);
            }
            else if (o.name == "27") {
                o._e.hd.tab.notif.add('end', '<div class="_notif_bell" title="delivery locations.." ></div>', function (ev, nl, tab, obj) { alert('Kindly post all bugs into google group..'); });
                o._e.hd.tab.notif.o.style.border = 'none';
            }
            else if (o.name == '4') {
                return;
                console.log('Creating Stack...');
                stack = new NavLayout({
                    Config:
                        [{
                            spliter: {
                                areaSize: '9px',
                                barSize: '8px'
                            },
                            tabs: {
                                dragLockTime: 150,
                                spacing: '1px'
                            },
                            data: []
                        }]
                    , ContainerObject: o._e.item
                });
                stack.addTab(
                    [
                        {

                            name: '32',
                            connect: null,
                            dock: 'right',
                            title: '32'
                        },
                        {

                            name: '33',
                            connect: null,
                            dock: 'right',
                            title: '33'
                        }
                    ]
                );
            }
        });
        nl.on('tabDeleted', function (o) {
            console.log('tabDeleted Event : ' + o);
        });
        nl.on('hSplitterFocusIn', function (o) {
            //console.log('hSplitterFocusIn Event : ' + o);
        });
        nl.on('hSplitterFocusOut', function (o) {
            //console.log('hSplitterFocusOut Event : ' + o);
        });
        nl.on('vSplitterFocusIn', function (o) {
            //console.log('vSplitterFocusIn Event : ' + o);
        });
        nl.on('vSplitterFocusOut', function (o) {
            //console.log('vSplitterFocusOut Event : ' + o);
        });
        nl.on('tabFocusIn', function (o) {
            //console.log('tabFocusIn Event : ' + o);
        });
        nl.on('tabFocusOut', function (o) {
            //console.log('tabFocusOut Event : ' + o);
        });
        nl.on('hSplitterDragStart', function (e, o) {
            //console.log('hSplitterDragStart Event : ' + e + ', object:' + o);
            //e.preventDefault();
        });
        nl.on('vSplitterDragStart', function (e, o) {
            //console.log('vSplitterDragStart Event : ' + e + ', object:' + o);
            //e.preventDefault();
        });
        nl.on('hSplitterDragEnd', function (o) {
            //console.log('hSplitterDragEnd Event : ' + ', object:' + o);
            //e.preventDefault();
        });
        nl.on('vSplitterDragEnd', function (o) {
            //console.log('vSplitterDragEnd Event : ' + ', object:' + o);
            //e.preventDefault();
        });
        nl.on('dragStart', function (e, o) {
            //console.log('dragStart Event : ' + e + ', name:' + n + ', object:' + o.item);
            //e.preventDefault();
        });
        nl.on('dragEnd', function (o) {
            //console.log('dragEnd Event : ' + n + ', object:' + o.item);
        });
        nl.on('resized', function (o) {
            //console.log('Resized Event : ' + n + ', object:' + o.item);
            if (stack) stack.update();
        });
        nl.on('popout', function (e, o) {
            //console.log('Popout Event : ' + e + ', name:' + n + ', object:' + o.item);
        });
        nl.on('minimize', function (e, o) {
            //console.log('Minimize Event : ' + e + ', name:' + n + ', object:' + o.item);
        });
        nl.on('maximize', function (e, o) {
            //console.log('Maximize Event : ' + e + ', name:' + n + ', object:' + o.item);
            //e.preventDefault();
        });
        nl.on('close', function (e, o) {
            //console.log('Closed Event : ' + e + ', name:' + n + ', object:' + o.item);
            var r = confirm("Do You Really Want To Close ?");
            if (r == false) {
                e.preventDefault();
            }
        });
        nl.on('layoutChanged', function (setting) {
            console.log('layoutChanged Event : ' + setting);
        });

    </script>
</body>

</html>